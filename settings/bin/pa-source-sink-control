# #!/bin/bash
# rofi_command="rofi"
#
# SOURCE=$(pactl list sources | grep "Name" | grep -v "monitor" | sed "s/^.*Name: //" | $rofi_command -dmenu -mesg Input)
# SINK=$(pactl list sinks | grep "Name" | sed "s/^.*Name: //" | $rofi_command -dmenu -mesg Output)
#
# if [ "$SINK" ] && [ "$SOURCE" ]; then
# 	pactl set-default-sink $SINK
# 	pactl set-default-source $SOURCE
# 	notify-send "Sound sink/source update" "Sink: $SINK\nSource: $SOURCE"
# else
# 	notify-send "Sound sink/source update" "Empty Sink or Source. No changes applied."
# fi

#!/bin/bash

if [ -z "$1" ]; then
    echo "Usage: $0 <sinkId/sinkName>" >&2
    echo "Valid sinks:" >&2
    pactl list short sinks >&2
    exit 1
fi

newSink="$1"

pactl list short sink-inputs|while read stream; do
    streamId=$(echo $stream|cut '-d ' -f1)
    echo "moving stream $streamId"
    pactl move-sink-input "$streamId" "$newSink"
done
