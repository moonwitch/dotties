[settings]
throttle-ms    = 50
throttle-limit = 5

[colors]
black      = ${xrdb:color0}
red        = ${xrdb:color1}
green      = ${xrdb:color2}
yellow     = ${xrdb:color3}
blue       = ${xrdb:color4}
magenta    = ${xrdb:color5}
cyan       = ${xrdb:color6}
white      = ${xrdb:color7}
black1     = ${xrdb:color8}
red1       = ${xrdb:color9}
green1     = ${xrdb:color10}
yellow1    = ${xrdb:color11}
blue1      = ${xrdb:color12}
magenta1   = ${xrdb:color13}
cyan1      = ${xrdb:color14}
white1     = ${xrdb:color15}
background = ${xrdb:background}
foreground = ${xrdb:foreground}
ctransp    = #00FFFFFF

[section/base]
top                  = true
padding-left         = 0
spacing              = 0
padding-right        = 0
module-margin-left   = 0
module-margin-right  = 0
module-padding-left  = 0
module-padding-right = 0
border-top-size      = 3
border-left-size     = 3
border-right-size    = 3
border-bottom-size   = 3
foreground           = ${colors.foreground}
background           = ${colors.background}
border-top-color     = ${colors.black1}
border-bottom-color  = ${colors.black1}
border-left-color    = ${colors.black1}
border-right-color   = ${colors.black1}
font-0               = "Hack Nerd Font:pixelsize=11;2"
font-1               = "Hack Nerd Font:style=Bold:pixelsize=21;1"
font-2               = "FontAwesome:Style=Regular:pixelsize=21;1"
wm-restack           = bspwm
fixed-center         = true
enable-ipc           = true

[bar/topbar]
inherit        = section/base

; Position
offset-x       = 10
offset-y       = 10

; Size
width          = 99%
height         = 25

; Modules
modules-left   = bspwm
modules-center = xwindow
modules-right  = updates gmail network power pulseaudio date

; Tray
tray-position = right
tray-padding = 2
;tray-background = #0063ff

[module/gmail]
type = custom/script
exec = ~/.config/polybar/scripts/gmail/launch.py
tail = true
click-left = $BROWSER https://mail.google.com

[module/bspwm]
type                      = internal/bspwm
enable-click              = true
enable-scroll             = true
reverse-scroll            = true
pin-workspaces            = true

scroll-up = bspwm-desknext
scroll-down = bspwm-deskprev

format                    = <label-state><label-mode>

label-focused              = %name%
label-focused-padding      = 1
label-focused-font         = 1
label-focused-foreground   = ${colors.black}
label-focused-background   = ${colors.blue1}

label-occupied            = %name%
label-occupied-padding    = 1
label-occupied-font       = 1
label-occupied-underline  = ${colors.red}

label-urgent              = %name%
label-urgent-padding      = 2
label-urgent-background   = ${colors.red}
label-urgent-foreground   = ${colors.red1}
label-urgent-font         = 1

label-empty               = %name%
label-empty-padding       = 1
label-empty-font          = 1
label-empty-foreground    = ${colors.black1}
label-empty-background    = ${colors.black}

[module/xwindow]
type                   = internal/xwindow
format                 = <label>
label                  = %{A:rofi -show window&:} %title%%{A}
label-empty            = %{A:rofi -show drun&:}%{A}
label-empty-foreground = ${colors.black1}
label-padding          = 1
label-maxlen           = 80
label-ellipsis         = true
label-foreground       = ${colors.blue}

[module/date]
type              = internal/date
interval          = 5
format            = <label>
format-padding    = 1
format-foreground = ${colors.yellow}
label             = %time% %date%
date              = "%a %B %d"
time              = "%H:%M"

[module/pulseaudio]
type                     = internal/pulseaudio
format-muted-background  = ${colors.red}
format-volume-foreground = ${colors.green}
format-volume            = <ramp-volume> <label-volume>
format-muted             = <label-muted>
format-volume-padding    = 1
format-muted-padding     = 1
label-muted              = 婢 muted
ramp-volume-0            = 
ramp-volume-1            = 
ramp-volume-2            = 墳
ramp-volume-3            = 

[module/network]
type                          = internal/network
interface                     = enp3s0
interval                      = 3.0
format-connected              = <label-connected>
format-disconnected           = <label-disconnected>
format-connected-padding      = 1
format-disconnected-padding   = 1
label-connected               = 囹 %{A:networkmanager_dmenu&:}%downspeed%
label-connected-foreground    = ${colors.cyan1}
label-disconnected            =  %{A:networkmanager_dmenu&:}%ifname% disconnected%{A}
label-disconnected-foreground = ${colors.red1}
click-left = networkmanager_dmenu &
click-middle = networkmanager_dmenu &
click-right = networkmanager_dmenu &

[module/power]
type                       = custom/menu

format-foreground          = ${colors.blue1}
format-padding             = 1

label-open                 = ${env:USER}
label-close-font           = 1
label-close                = 
label-close-foreground     = ${colors.white1}
label-separator            = "|"
label-separator-padding    = 1
label-separator-foreground = ${colors.black}

; lock
menu-0-0                   =  Lock
menu-0-0-exec              = xautolock -locknow
menu-0-0-foreground        = ${colors.green}
; suspend
menu-0-1                   =  Suspend
menu-0-1-exec              = systemctl suspend
menu-0-1-foreground        = ${colors.green}
; exit
menu-0-2                   =  Logoff
menu-0-2-exec              = bspc quit
menu-0-2-foreground        = ${colors.yellow1}
; shutdown
menu-0-3                   =  Reboot
menu-0-3-exec              = systemctl reboot
menu-0-3-foreground        = ${colors.yellow}
; reboot
menu-0-4                   =  Shutdown
menu-0-4-exec              = systemctl poweroff
menu-0-4-foreground        = ${colors.red}

[global/wm]
margin-top    = 1
margin-bottom = 1

[module/updates]
type = custom/script
exec = ~/.config/polybar/scripts/check_updates.sh
tail = true
interval = 5
label = %output%
format-foreground = ${colors.foreground}
format-background = ${colors.background}
format-prefix = "  "
format-prefix-foreground = #FFBB00
format-underline = #FFBB00


[module/spotify]
type = custom/script
interval = 1
format-prefix = " "
format = <label>
exec = python ~/.config/polybar/scripts/spotify/spotify_status.py -f '{play_pause} {song} - {artist}'
format-underline = #1db954

;; vim:ft=dosini
